---
title: 计算机网络-自顶向下方法(6E)，CH1
date: 2017-08-07 18:25:04
tags: 
  - Computer Network
---

<!-- more -->

## 基础概念

- **主机(host)/端系统(end system)**：联网设备：PC，手机，相机，传感器…
- **通信链路(communication link)/分组交换机(package switch)**：连接端系统
  - 通信链路：不同类型的物理媒介组成，包括同轴电缆、光纤、无线电谱频等。不同的链路速率以比特/秒(bit/s, bps)计算，
  - 发送端将数据分段，并为每段加上首部字节，形成了**分组(package，包)**
  - 分组交换机：路由器（位于网路核心）、链路层交换机（用于接入网中）
  - 端系统彼此交换**报文(message)**
- 端系统通过**因特尔服务提供商(ISP)**接入因特网
- **因特尔标准文档**(Internet standard)由**因特尔工程任务组**(IETF)研发
- IFTF的标准文档称为**请求评论(RFC)**

通过网络链路与交换机移动数据：分组交换与电路交换
## 分组交换
存储转发传输：交换机在能开始向输出链路传输分组的第一个bit前，必须完整接受到整个分组
  - 多数分组交换机在链路的输入端使用存储转发传输

每个分组交换机与多个链路相连，对于每个链路都有一个输出缓存(输出队列)。如果链路正在传输其他分组，那到达该链路的分组需要在缓存中等待，称为**排队时延**。如果分组到达时，缓存已满，那么该分组或者缓存中的某个分组将被丢弃，称为**分组丢失（丢包）**

路由器有一个**转发表**，用于将目的地址映射为输出链路
因特网有**路由选择协议**来自动设置转发表

## 电路交换
电路交换网络在两个端系统中创建了一条专用的端到端连接

通过**频分复用**或**时分复用**实现
- 频分复用是链路的所有频段为所有连接共享，而每个连接在连接时会独用一个频段
- 时分复用，对于时分复用的链路，时间被划分为固定区间的帧，每帧又被划分为固定数量的时隙，连接时网络为该连接在每个帧指定一个时隙。

分组交换按需分配资源，更高效

## 时延
- 处理时延：检查分组首部和决定将该分组导向何处
- 排队时延
- **传输**时延：将所有分组的比特推向链路的时间。L表示**分组长度**，R表示链路传输速率，传输时延为L/R
- **传播**时延：一个bit通过链路的时间，取决于**链路的长度**和速率

## 吞吐量
- 瞬时吞吐量：从主机A传送文件给主机B，主机B接受到该文件的速率（以bps计）
- 平均吞吐量：文件F比特，主机B接受该文件用去了T秒，则平均吞吐量为F/T bps

## 协议分层
五层因特网协议栈

| 名称 | 功能 | 例如|
|:----:|:---|:---|
| 应用层 | 网络应用程序及他们的应用层协议存留于应用层中。不同端系统中的应用程序通过应用层协议交换信息分组（报文message） |HTTP、SMTP、FTP、DNS |
| 运输层| 在应用程序端点之间传送应用层报文。运输层分组称为报文段(segment) |TCP、UDP |
| 网络层| 网络层将数据报的网络层分组从一台主机移动到另一台主机 |IP |
| 链路层| 将帧（链路层分组）从一个结点移动到路径的下一个结点 |以太网、Wifi和电缆接入网的DOCSIS协议 |
| 物理层 | 将帧中的一个个比特一个结点移动到路径的下一个结点。传输协议与链路实际传输媒介有关 | |

OSI模型（开放系统互连模型）

| 名称 | 功能 |
|--- |--- |
| 应用层| 同上 |
| 表示层|  使通信的应用程序能够解释交换数据的含义。服务包括数据压缩、数据加密(它们是自解释的)以及数据描述 |
| 会话层| 提供了数据交换定界和同步功能，包括了建立检查点和恢复方案的方法 |
|运输层 | |
|网络层 | |
|链路层 | |
|物理层 | |

## 封装
  - 每一层的一个分组包含：首部字段+有效载荷字段。其中有效载荷字段通常来自上一分组
```
应用层报文(application-layer message)
    ↓
    ↓ -- 运输层首部信息(eg:差错检测信息)
    ↓
运输层报文(transport-layer segment)
    ↓
    ↓ -- 网络层首部信息(eg:源和目的端系统地址)
    ↓
网络层数据报(network-layer datagram)
    ↓
    ↓ -- 链路层首部信息
    ↓
链路层帧(link-layer frame)

```  


## 网络攻击
- Dos 攻击
  - 拒绝服务攻击(Denial-of-Service attack)  
  - 分类
    1. 弱点攻击：向目标主机发送制作精细的报文，使得目标主机的应用程序或操作系统崩溃，甚至使得主机崩溃
    2. 带宽洪泛：向目标主机发送大量分组，使得目标的接入链路拥塞而合法的分组无法到达服务器
    3. 连接洪泛：在目标主机中创建大量的半开或全开TCP连接，使得主机停止接收合法的连接
  - 分布式DoS（DDoS）

- 嗅探分组
  - 记录每个流进的分组副本的被动接收机被称为分组嗅探器(packet sniffer)
- 伪装
  - IP哄骗(IP spoofing)：将具有虚假源地址的分组注入因特网的能力

